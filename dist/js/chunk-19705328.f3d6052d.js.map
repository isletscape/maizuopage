{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/components/cinema_components/SeatingChart.vue?df8d","webpack:///./src/icon/icon.vue?a1ad","webpack:///./src/views/Cinema/Schedule.vue?0616","webpack:///./node_modules/vant/es/notice-bar/NoticeBar.js","webpack:///./node_modules/vant/es/notice-bar/index.js","webpack:///./src/api/scheduleAPI.js","webpack:///./src/composables/initSchedule.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/icon/icon.vue","webpack:///./src/icon/icon.vue?88dd","webpack:///./src/components/cinema_components/Seat.vue","webpack:///./src/components/cinema_components/Seat.vue?b590","webpack:///./src/utils/gestuter.js","webpack:///./src/components/cinema_components/SeatingChart.vue","webpack:///./src/components/cinema_components/SeatingChart.vue?cf85","webpack:///./src/views/Cinema/Schedule.vue","webpack:///./src/views/Cinema/Schedule.vue?bb25","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/components/cinema_components/Seat.vue?183d","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./src/utils/time.js"],"names":["global","toIntegerOrInfinity","toString","requireObjectCoercible","RangeError","module","exports","count","str","this","result","n","Infinity","bem","create","text","String","mode","color","delay","speed","leftIcon","wrapable","Boolean","background","scrollable","type","default","name","props","emits","emit","slots","startTimer","wrapWidth","contentWidth","wrapRef","contentRef","state","show","offset","duration","renderLeftIcon","getRightIconName","onClickRightIcon","event","renderRightIcon","onTransitionEnd","renderMarquee","ellipsis","style","transform","transitionDuration","reset","ms","clearTimeout","setTimeout","value","wrapRefWidth","useRect","width","contentRefWidth","onMountedOrActivated","useEventListener","scheduleAPI","scheduleId","k","request","get","params","headers","seatingChartAPI","initSeatingChart","seatingCharts","data","seatingChart","initSchedule","schedules","schedule","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","iconName","iconClass","__exports__","info","seatInfo","checked","selectSeat","isBroken","isOccupied","scheduleHandleSelectSeat","tMatrix","ref","hammerIt","el","reqAnimationFrame","window","Hammer","prefixed","callback","initScale","mc","Manager","ticking","poscenter","point2D","lastTranslate","lastcenter","offsetWidth","offsetHeight","center","x","y","onPanStart","onPan","ev","className","deltaX","deltaY","requestElementUpdate","onPinchStart","onPinch","scale","updateElementTransform","transition","tmp","join","add","Pan","threshold","pointers","Pinch","Tap","taps","on","seatsRef","containerRef","indexBarRef","numbersOfRows","height","maxNumbersOfCells","rowStyle","cellStyle","indexBarStyle","cellSize","getBoundingClientRect","indexBarTransStyle","id","switcherStatus","VanDialog","Component","movie","film","filmId","selectedSeats","amount","price","sale","toFixed","handleSelectSeat","filter","item","offerSeatId","confirmSchedule","store","userInfo","commit","movieName","poster","cinemaName","cinema","date","time","showAt","user","tel","hallName","hall","seats","router","goBack","go","$","uncurryThis","thisNumberValue","$repeat","fails","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","t","FORCED","target","proto","forced","fractionDigits","e","z","j","number","fractDigits","sign","document","exportName","undefined","assign","VENDOR_PREFIXES","TEST_ELEMENT","createElement","TYPE_FUNCTION","round","abs","now","Date","setTimeoutContext","fn","timeout","context","bindFn","invokeArrayArg","arg","each","obj","forEach","hasOwnProperty","deprecate","method","message","deprecationMessage","Error","stack","replace","console","warn","apply","arguments","Object","output","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","prototype","constructor","_super","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","find","indexOf","trim","split","inArray","findByKey","toArray","uniqueArray","key","sort","results","values","a","b","property","prefix","prop","camelProp","toUpperCase","_uniqueId","uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","test","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","options","inputTarget","domHandler","enable","init","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","TouchMouseInput","MouseInput","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offsetDelta","prevDelta","velocity","velocityX","velocityY","direction","last","lastInterval","v","clientX","clientY","p1","p2","sqrt","atan2","PI","start","end","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","isSyntheticEvent","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","set","cleanTouchActions","actions","hasPanX","hasPanY","touchMap","cssSupports","CSS","supports","compute","update","touchAction","recognizers","recognizer","getTouchAction","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","preset","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","handlers","oldCssProps","toggleCssProps","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","stop","force","stopped","curRecognizer","existing","remove","events","off","Swipe","Rotate","Press","freeGlobal","now_date","getTime","setHours","setMinutes","setSeconds","setMilliseconds","tomorrowStamp","getFullYear","Number","getMonth","getDate","timestampToDate","stamp","fullDate","parseInt","toLocaleString","indexOfSpace","timestampToTime","timestampToFullTime"],"mappings":"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","file":"js/chunk-19705328.f3d6052d.js","sourcesContent":["'use strict';\nvar global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar RangeError = global.RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SeatingChart.vue?vue&type=style&index=0&id=33b9dc15&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./icon.vue?vue&type=style&index=0&id=73d83b58&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Schedule.vue?vue&type=style&index=0&id=2a500299&lang=less&scoped=true\"","import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, defineComponent } from 'vue'; // Utils\n\nimport { isDef, createNamespace, makeNumericProp } from '../utils'; // Composables\n\nimport { raf, useRect, doubleRaf, useEventListener, onMountedOrActivated } from '@vant/use';\nimport { useExpose } from '../composables/use-expose';\nimport { onPopupReopen } from '../composables/on-popup-reopen'; // Components\n\nimport { Icon } from '../icon'; // Types\n\nvar [name, bem] = createNamespace('notice-bar');\nvar props = {\n  text: String,\n  mode: String,\n  color: String,\n  delay: makeNumericProp(1),\n  speed: makeNumericProp(60),\n  leftIcon: String,\n  wrapable: Boolean,\n  background: String,\n  scrollable: {\n    type: Boolean,\n    default: null\n  }\n};\nexport default defineComponent({\n  name,\n  props,\n  emits: ['close', 'replay'],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    var wrapWidth = 0;\n    var contentWidth = 0;\n    var startTimer;\n    var wrapRef = ref();\n    var contentRef = ref();\n    var state = reactive({\n      show: true,\n      offset: 0,\n      duration: 0\n    });\n\n    var renderLeftIcon = () => {\n      if (slots['left-icon']) {\n        return slots['left-icon']();\n      }\n\n      if (props.leftIcon) {\n        return _createVNode(Icon, {\n          \"class\": bem('left-icon'),\n          \"name\": props.leftIcon\n        }, null);\n      }\n    };\n\n    var getRightIconName = () => {\n      if (props.mode === 'closeable') {\n        return 'cross';\n      }\n\n      if (props.mode === 'link') {\n        return 'arrow';\n      }\n    };\n\n    var onClickRightIcon = event => {\n      if (props.mode === 'closeable') {\n        state.show = false;\n        emit('close', event);\n      }\n    };\n\n    var renderRightIcon = () => {\n      if (slots['right-icon']) {\n        return slots['right-icon']();\n      }\n\n      var name = getRightIconName();\n\n      if (name) {\n        return _createVNode(Icon, {\n          \"name\": name,\n          \"class\": bem('right-icon'),\n          \"onClick\": onClickRightIcon\n        }, null);\n      }\n    };\n\n    var onTransitionEnd = () => {\n      state.offset = wrapWidth;\n      state.duration = 0; // wait for Vue to render offset\n      // using nextTick won't work in iOS14\n\n      raf(() => {\n        // use double raf to ensure animation can start\n        doubleRaf(() => {\n          state.offset = -contentWidth;\n          state.duration = (contentWidth + wrapWidth) / +props.speed;\n          emit('replay');\n        });\n      });\n    };\n\n    var renderMarquee = () => {\n      var ellipsis = props.scrollable === false && !props.wrapable;\n      var style = {\n        transform: state.offset ? \"translateX(\" + state.offset + \"px)\" : '',\n        transitionDuration: state.duration + \"s\"\n      };\n      return _createVNode(\"div\", {\n        \"ref\": wrapRef,\n        \"role\": \"marquee\",\n        \"class\": bem('wrap')\n      }, [_createVNode(\"div\", {\n        \"ref\": contentRef,\n        \"style\": style,\n        \"class\": [bem('content'), {\n          'van-ellipsis': ellipsis\n        }],\n        \"onTransitionend\": onTransitionEnd\n      }, [slots.default ? slots.default() : props.text])]);\n    };\n\n    var reset = () => {\n      var {\n        delay,\n        speed,\n        scrollable\n      } = props;\n      var ms = isDef(delay) ? +delay * 1000 : 0;\n      wrapWidth = 0;\n      contentWidth = 0;\n      state.offset = 0;\n      state.duration = 0;\n      clearTimeout(startTimer);\n      startTimer = setTimeout(() => {\n        if (!wrapRef.value || !contentRef.value || scrollable === false) {\n          return;\n        }\n\n        var wrapRefWidth = useRect(wrapRef).width;\n        var contentRefWidth = useRect(contentRef).width;\n\n        if (scrollable || contentRefWidth > wrapRefWidth) {\n          doubleRaf(() => {\n            wrapWidth = wrapRefWidth;\n            contentWidth = contentRefWidth;\n            state.offset = -contentWidth;\n            state.duration = contentWidth / +speed;\n          });\n        }\n      }, ms);\n    };\n\n    onPopupReopen(reset);\n    onMountedOrActivated(reset); // fix cache issues with forwards and back history in safari\n    // see: https://guwii.com/cache-issues-with-forwards-and-back-history-in-safari/\n\n    useEventListener('pageshow', reset);\n    useExpose({\n      reset\n    });\n    watch(() => [props.text, props.scrollable], reset);\n    return () => {\n      var {\n        color,\n        wrapable,\n        background\n      } = props;\n      return _withDirectives(_createVNode(\"div\", {\n        \"role\": \"alert\",\n        \"class\": bem({\n          wrapable\n        }),\n        \"style\": {\n          color,\n          background\n        }\n      }, [renderLeftIcon(), renderMarquee(), renderRightIcon()]), [[_vShow, state.show]]);\n    };\n  }\n\n});","import { withInstall } from '../utils';\nimport _NoticeBar from './NoticeBar';\nexport var NoticeBar = withInstall(_NoticeBar);\nexport default NoticeBar;","import request from '@/api/request'\n\nexport { seatingChartAPI, scheduleAPI }\n\n// \nconst scheduleAPI = function (scheduleId, k) {\n  return request.get('/gateway', {\n    params: {\n      scheduleId: scheduleId,\n      k: k,\n    },\n    headers: {\n      'X-Host': 'mall.film-ticket.schedule.info',\n    },\n  })\n}\n// \nconst seatingChartAPI = function (scheduleId, k) {\n  return request.get('/gateway', {\n    params: {\n      scheduleId: scheduleId,\n      k: k,\n    },\n    headers: {\n      'X-Host': 'mall.film-ticket.seat.list',\n    },\n  })\n}\n","import { seatingChartAPI, scheduleAPI } from '@/api/scheduleAPI.js'\n\nexport { initSeatingChart, initSchedule }\nasync function initSeatingChart(seatingCharts, scheduleId, k) {\n  // if (localStorage.getItem('seatingCharts')) {\n  //   seatingCharts.value = JSON.parse(localStorage.getItem('seatingCharts'))\n  //   return\n  // }\n  const data = await seatingChartAPI(scheduleId, k)\n  seatingCharts.value = data ? data.seatingChart : null\n  // localStorage.setItem('seatingCharts', JSON.stringify(seatingCharts.value))\n}\n\nasync function initSchedule(schedules, scheduleId, k) {\n  // if (localStorage.getItem('schedules')) {\n  //   schedules.value = JSON.parse(localStorage.getItem('schedules'))\n  //   return\n  // }\n  const data = await scheduleAPI(scheduleId, k)\n  schedules.value = data ? data.schedule : null\n  // console.log('schedules', schedule)\n  // localStorage.setItem('schedules', JSON.stringify(schedules.value))\n}\n\n// https://m.maizuo.com/gateway/?filmId=5741&cinemaId=65&date=1636992000&k=5367885\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","<template>\n  <svg :class=\"iconClass\" aria-hidden=\"true\" :style=\"{ color }\">\n    <use :xlink:href=\"iconName\"></use>\n  </svg>\n</template>\n \n<script setup>\nimport { computed } from '@vue/reactivity'\n\n// eslint-disable-next-line no-undef\nconst props = defineProps({\n  name: {\n    type: String,\n    required: true,\n  },\n  color: String,\n})\nconst iconName = computed(() => {\n  return `#icon-${props.name}`\n})\nconst iconClass = computed(() => {\n  return !props.name ? 'svg-icon' : `svg-icon icon-${props.name}`\n})\n</script>\n\n<style lang=\"less\">\n.svg-icon {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  vertical-align: top;\n  fill: currentColor;\n}\n  \n</style>","import script from \"./icon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./icon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./icon.vue?vue&type=style&index=0&id=73d83b58&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"seat\" @click=\"selectSeat\">\n    <Icon :name=\"iconName\" />\n  </div>\n  <!-- <div class=\"seat\">1</div> -->\n</template>\n\n<script setup>\nimport Icon from '@/icon/icon.vue'\nimport { computed, toRefs, ref } from '@vue/reactivity'\nimport { inject } from '@vue/runtime-core'\nimport { Toast } from 'vant'\n\n// eslint-disable-next-line no-undef\nconst props = defineProps({\n  info: Array,\n})\nconst { info } = toRefs(props)\n\n// \nconst seatInfo = computed(() => {\n  return info.value[0]\n})\n// \nconst checked = ref(false)\n\nconst selectSeat = () => {\n  if (!seatInfo.value.isBroken && !seatInfo.value.isOccupied) {\n    // \n    checked.value = !checked.value\n    // schedule\n    scheduleHandleSelectSeat(seatInfo.value, checked.value)\n  } else {\n    Toast('')\n  }\n}\n\n// \nconst iconName = computed(() => {\n  return seatInfo.value.isBroken\n    ? 'broken'\n    : seatInfo.value.isOccupied\n    ? 'occupied'\n    : checked.value\n    ? 'checked'\n    : 'danrenzuoweikexuan'\n})\n\nconst scheduleHandleSelectSeat = inject('selectSeatEvent')\n</script>\n\n<style lang=\"less\" scoped>\n.seat {\n  width: 100%;\n  height: 100%;\n  // background-color: red;\n}\n.icon {\n  width: 100%;\n  height: 100%;\n  vertical-align: top;\n  fill: currentColor;\n  overflow: hidden;\n}\n.occupied{}\n</style>\n","import script from \"./Seat.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Seat.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Seat.vue?vue&type=style&index=0&id=455568f3&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-455568f3\"]])\n\nexport default __exports__","import Hammer from 'hammerjs'\nimport { ref } from 'vue'\n\nconst tMatrix = ref([])\nexport { tMatrix }\nexport function hammerIt(el) {\n  var reqAnimationFrame = (function () {\n    return (\n      window[Hammer.prefixed(window, 'requestAnimationFrame')] ||\n      function (callback) {\n        window.setTimeout(callback, 1000 / 60)\n      }\n    )\n  })()\n  tMatrix.value = [1, 0, 0, 1, 0, 0] //xyxy\n\n  var initScale = 1 //scale\n  var mc = new Hammer.Manager(el)\n  var ticking = false\n  var poscenter = point2D(0, 0) //\n  var duration = '' //\n  var lastTranslate = point2D(0, 0) //\n\n  var lastcenter = point2D(el.offsetWidth / 2, el.offsetHeight / 2) //\n\n  var center = lastcenter\n  mc.add(new Hammer.Pan({ threshold: 0, pointers: 1 }))\n  mc.add(new Hammer.Pinch({ threshold: 0 }))\n  mc.add(new Hammer.Tap({ event: 'doubletap', taps: 2 }))\n  mc.on('panmove', onPan)\n  mc.on('panstart', onPanStart)\n  mc.on('pinchmove', onPinch)\n  mc.on('pinchstart', onPinchStart)\n  // mc.on('doubletap', onDoubleTap)\n\n  function point2D(x, y) {\n    return { x: x, y: y }\n  }\n  function onPanStart() {\n    lastTranslate = point2D(tMatrix.value[4], tMatrix.value[5]) //\n  }\n  function onPan(ev) {\n    duration = ''\n    el.className = ''\n    tMatrix.value[4] = lastTranslate.x + ev.deltaX\n    tMatrix.value[5] = lastTranslate.y + ev.deltaY\n    requestElementUpdate('onpan')\n  }\n  function onPinchStart(ev) {\n    duration = ''\n    lastTranslate = point2D(tMatrix.value[4], tMatrix.value[5]) //\n    initScale = tMatrix.value[0] || 1\n    poscenter = point2D(ev.center.x, ev.center.y)\n\n    lastcenter = point2D(center.x + lastTranslate.x, center.y + lastTranslate.y) //\n    poscenter = point2D(ev.center.x - lastcenter.x, ev.center.y - lastcenter.y)\n    requestElementUpdate('onpinchStart')\n  }\n  function onPinch(ev) {\n    // eslint-disable-next-line no-unused-vars\n    var nowScale = (tMatrix.value[0] = tMatrix.value[3] = initScale * ev.scale)\n    // eslint-disable-next-line no-unused-vars\n    var composscal = 1 - ev.scale\n    tMatrix.value[4] =\n      poscenter.x -\n      ((poscenter.x - lastcenter.x) * ev.scale + lastcenter.x) +\n      lastTranslate.x //\n    tMatrix.value[5] =\n      poscenter.y -\n      ((poscenter.y - lastcenter.y) * ev.scale + lastcenter.y) +\n      lastTranslate.y\n    tMatrix.value[4] = (1 - ev.scale) * poscenter.x + lastTranslate.x\n    tMatrix.value[5] = (1 - ev.scale) * poscenter.y + lastTranslate.y\n    requestElementUpdate('onpinch')\n  }\n\n  // function onDoubleTap(ev) {\n  //   duration = '.3s ease all'\n  //   var nowScale = tMatrix.value[0]\n  //   if (nowScale != 1 || tMatrix.value[4] != 0) {\n  //     //scale11\n  //     tMatrix.value[0] = tMatrix.value[3] = 1\n  //     tMatrix.value[4] = tMatrix.value[5] = 0\n  //   } else {\n  //     var pointer = ev.center\n  //     var scale = 2\n  //     tMatrix.value[0] = tMatrix.value[3] = scale\n  //     //var last = point2D\n  //     //tMatrix.value[4] = pointer.x - ((pointer.x-lastcenter.x) * scale + lastcenter.x);\n  //     //tMatrix.value[5] = pointer.y - ((pointer.y-lastcenter.y) * scale + lastcenter.y);\n  //     tMatrix.value[4] = (1 - scale) * (pointer.x - center.x)\n  //     tMatrix.value[5] = (1 - scale) * (pointer.y - center.y)\n  //   }\n  //   requestElementUpdate('doubleTap')\n  // }\n\n  function updateElementTransform() {\n    el.style.transition = duration\n    var tmp = tMatrix.value.join(',')\n\n    el.style.transform = 'matrix(' + tmp + ')'\n    ticking = false\n  }\n\n  function requestElementUpdate() {\n    // arguments && console.log(arguments[0])\n\n    if (!ticking) {\n      reqAnimationFrame(updateElementTransform)\n      ticking = true\n    }\n  }\n\n  requestElementUpdate()\n}\n","<template>\n  <div class=\"container\" ref=\"containerRef\">\n    <!--  -->\n    <div\n      class=\"index-bar\"\n      :style=\"[indexBarStyle, indexBarTransStyle]\"\n      ref=\"indexBarRef\"\n    >\n      <div class=\"indexCell\" v-for=\"rowCount in numbersOfRows\" :key=\"rowCount\">\n        {{ rowCount }}\n      </div>\n    </div>\n    <!--  -->\n    <div class=\"seats\" ref=\"seatsRef\">\n      <div\n        class=\"row\"\n        v-for=\"rowIndex in numbersOfRows\"\n        :key=\"rowIndex\"\n        :style=\"[rowStyle]\"\n      >\n        <div\n          class=\"cell\"\n          v-for=\"cellIndex in maxNumbersOfCells\"\n          :key=\"cellIndex\"\n          :style=\"[cellStyle]\"\n        >\n          <Seat\n            v-if=\"\n              seatingChart.seats.some((item) => {\n                return (\n                  String(item.rowNum) === String(rowIndex) &&\n                  String(item.columnNum) === String(cellIndex)\n                )\n              })\n            \"\n            :info=\"\n              seatingChart.seats.filter((item) => {\n                return (\n                  String(item.rowNum) === String(rowIndex) &&\n                  String(item.columnNum) === String(cellIndex)\n                )\n              })\n            \"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { computed, ref, watch } from 'vue'\nimport Seat from '@/components/cinema_components/Seat.vue'\nimport { hammerIt, tMatrix } from '@/utils/gestuter.js'\n\n// eslint-disable-next-line no-undef\nconst props = defineProps({\n  seatingChart: Object,\n})\n\nconst seatsRef = ref(null)\nconst containerRef = ref(null)\nconst indexBarRef = ref(null)\n\n//\nconst numbersOfRows = ref(props.seatingChart.height)\n//\nconst maxNumbersOfCells = ref(props.seatingChart.width)\n\n//\nconst rowStyle = ref(null)\n//\nconst cellStyle = ref(null)\n//\nconst indexBarStyle = ref(null)\n//\nconst cellSize = ref(null)\n\nwatch(\n  [seatsRef, containerRef, indexBarRef],\n  ([seatsRef, containerRef, indexBarRef]) => {\n    indexBarRef\n\n    cellSize.value =\n      containerRef.getBoundingClientRect().width / maxNumbersOfCells.value - 4\n\n    hammerIt(seatsRef)\n\n    rowStyle.value = {\n      width: cellSize.value * maxNumbersOfCells.value + 'pX',\n      height: cellSize.value + 4 + 'pX',\n    }\n    cellStyle.value = {\n      width: cellSize.value + 'pX',\n      height: cellSize.value + 'pX',\n    }\n    indexBarStyle.value = {\n      height: (cellSize.value + 4) * numbersOfRows.value + 'pX',\n    }\n  }\n)\n\nconst indexBarTransStyle = computed(() => {\n  return `transform: translate(0pX, ${tMatrix.value[5]}pX) scale(${tMatrix.value[3]})`\n})\n</script>\n\n<style lang=\"less\" scoped>\n\n.container {\n  width: 100%;\n  height: 100%;\n  background-color: #f4f4f4;\n  z-index: 9;\n  overflow: hidden;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n}\n.index-bar {\n  position:absolute;\n  left: 3pX;\n  background-color: rgba(141, 141, 141, 0.493);\n  z-index: 99;\n  width: 20pX;\n  border-radius: 10pX;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  \n}\n.indexCell{\n  width: 100%;\n  text-align: center;\n  font-size: 5pX;\n}\n\n.seats { \n  position: absolute;          \n  display: block;       \n}\n.row {\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n.cell {\n  // float: left;\n  display: inline-block;\n  vertical-align: top;\n  margin: 2pX;\n  \n}\n</style>","import script from \"./SeatingChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeatingChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SeatingChart.vue?vue&type=style&index=0&id=33b9dc15&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-33b9dc15\"]])\n\nexport default __exports__","<template>\n  <div id=\"schedule\" v-if=\"schedules\">\n    <!--  -->\n    <div class=\"nav\">\n      <van-nav-bar :title=\"schedules.cinema.name\">\n        <template #left>\n          <van-icon name=\"arrow-left\" color=\"#323233\" @click=\"goBack\" />\n        </template>\n      </van-nav-bar>\n    </div>\n    <!--  -->\n    <NoticeBar left-icon=\"volume-o\" speed=\"30\" :text=\"schedules.noticeMsg\" />\n    <!--  -->\n    <div class=\"SeatingChart\" v-if=\"seatingChart\">\n      <SeatingChart :seatingChart=\"seatingChart\" />\n    </div>\n    <!--  -->\n    <div class=\"bottom\">\n      <div class=\"movie-hall-box\">\n        <div class=\"movie-info\">\n          <!--  -->\n          <div class=\"content\">\n            <div class=\"name\">{{ schedules.film.name }}</div>\n            <div class=\"detail\">\n              {{ timestampToFullTime(schedules.showAt) }}\n              |\n              {{ schedules.imagery }}\n            </div>\n          </div>\n          <!--  -->\n          <div class=\"switcher\" @click=\"switcherStatus = !switcherStatus\">\n            {{ switcherStatus ? '' : '' }}\n          </div>\n        </div>\n        <!--  -->\n        <div class=\"hall-list hall-order-list\" v-if=\"switcherStatus\">\n          <div class=\"hall-cell hall-order-cell\">\n            <div class=\"time\">11:12</div>\n            <div class=\"type\">2D</div>\n            <div class=\"price\">21</div>\n          </div>\n        </div>\n        <!--  -->\n        <div class=\"order-list hall-order-list\" v-if=\"selectedSeats.length > 0\">\n          <div\n            class=\"order-cell hall-order-cell\"\n            v-for=\"item in selectedSeats\"\n            :key=\"item.offerSeatId\"\n          >\n            <div class=\"seat-id\">{{ item.rowId }}{{ item.columnId }}</div>\n            <div class=\"seat-price\">\n              {{ (schedules.price.sale / 100).toFixed(2) }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--  -->\n      <div\n        class=\"confirm-button\"\n        :style=\"{ color: selectedSeats.length > 0 ? '#fff' : '#f58f5e' }\"\n        @click=\"confirmSchedule\"\n      >\n        {{ selectedSeats.length > 0 ? '' : '' }}\n        {{ selectedSeats.length > 0 ? amount : '' }}\n      </div>\n    </div>\n  </div>\n  <VanDialog />\n</template>\n\n\n<script setup>\nimport { initSeatingChart, initSchedule } from '@/composables/initSchedule.js'\nimport { initSingleMovie } from '@/composables/initMovies.js'\nimport { computed, provide, ref, watch } from 'vue'\nimport { NoticeBar, Dialog } from 'vant'\nimport SeatingChart from '@/components/cinema_components/SeatingChart.vue'\nimport { timestampToFullTime } from '@/utils/time.js'\nimport { useRoute } from 'vue-router'\nimport router from '@/router'\nimport store from '@/store'\n\nconst seatingChart = ref(null)\nconst schedules = ref(null)\nconst scheduleId = useRoute().params.id\nconst k = 9983952\n// \nconst switcherStatus = ref(false)\nconst VanDialog = Dialog.Component\nconst movie = ref()\n// \ninitSchedule(schedules, scheduleId, k)\n// \ninitSeatingChart(seatingChart, scheduleId, k)\nwatch(schedules, (schedules) => {\n  initSingleMovie(movie, schedules.film.filmId)\n})\n\n// \nconst selectedSeats = ref([])\n\n// ,Number\nconst amount = computed(() => {\n  return (\n    (selectedSeats.value.length * schedules.value.price.sale) /\n    100\n  ).toFixed(2)\n})\n// \nconst handleSelectSeat = (seatInfo, checked) => {\n  if (checked) {\n    selectedSeats.value.push(seatInfo)\n  } else {\n    selectedSeats.value = selectedSeats.value.filter((item) => {\n      return item.offerSeatId !== seatInfo.offerSeatId\n    })\n  }\n}\nprovide('selectSeatEvent', handleSelectSeat)\n// \n// const confirmSchedule = () => {\n//   Dialog.confirm({\n//     title: '',\n//     message: '',\n//   }).then(() => {\n//     // router.push({\n//     //   name: 'login',\n//     //   params: { redirect: router.currentRoute.value.fullPath }, //\n//     // })\n//     router.push('/login')\n//   })\n// }\nconst confirmSchedule = () => {\n  if (store.state.userInfo) {\n    store.commit('saveOrderInfo', {\n      movieName: movie.value.name,\n      poster: movie.value.poster,\n      cinemaName: schedules.value.cinema.name,\n      date: timestampToFullTime(schedules.value.showAt),\n      user: { tel: '188 8888 8888' },\n      hallName: schedules.value.hall.name,\n      seats: selectedSeats.value,\n      amount: amount.value,\n    })\n  }\n  router.push('/order')\n}\n\nconst goBack = () => {\n  router.go(-1)\n}\n</script>\n\n<style lang=\"less\" scoped>\n#schedule{\n  overflow: hidden;\n  // box-shadow: #ebedf0 0 4px 12px;\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  background-color: #f4f4f4;\n}\n\n.SeatingChart {\n  width: 100vw;\n  height: 60vh;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n\n\n.bottom {\n  font-size: 12px;\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n}\n.movie-hall-box{\n  border-radius: 2px;\n  background-color: #fff;\n  width: 90vw;\n  overflow: hidden;\n  padding: 0 10pX;\n  margin-bottom: 10pX;\n  .movie-info {\n    height: 40pX;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    padding: 10pX;\n    background-color: #fff;\n    .content {\n      flex: 1;\n      .name {\n        font-size: 16pX;\n      }\n      .detail {\n        font-size: 12pX;\n        color: gainsboro;\n      }\n    }\n    .switcher {\n      width: 70pX;\n      background-color: rgba(184, 184, 184, 0.438);\n      text-align: center;\n      border-radius: 2pX;\n    }\n  }\n}\n.hall-order-list {\n  white-space: nowrap;\n  margin-bottom: 10pX;\n  overflow: scroll;\n  .hall-order-cell {\n    display: inline-block;\n    width: 60pX;\n    height: 60pX;\n    white-space: nowrap;\n    height: 60pX;\n    width:60pX;\n    margin:7pX 0 7pX 7pX;\n    background-color: #f8f8f8;\n    text-align: center;\n    padding-top: 10pX;\n  }\n}\n.hall-cell {\n  .time {\n    font-size: 12pX;\n    color: #191a1b;\n  }\n  .type {\n    font-size: 13pX;\n    color: #c5c8cc;\n  }\n  .price {\n    font-size: 12pX;\n    color: #7a7d82;\n  }\n}\n.order-cell {\n  .seat-id{\n    height: 15pX;\n    line-height: 15pX;\n    font-size: 12pX;\n    margin: 5pX 0;\n  }\n  .seat-price{\n    font-size: 14pX;\n    color: #f35e25;\n  }\n}\n\n.confirm-button{\n  height: 46pX;\n  width: 100vw;\n  background-color: #f35e25;\n  text-align: center;\n  line-height: 46pX;\n  font-size: 18pX;\n  color: #fff;\n \n}\n</style>","import script from \"./Schedule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Schedule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Schedule.vue?vue&type=style&index=0&id=2a500299&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2a500299\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Seat.vue?vue&type=style&index=0&id=455568f3&lang=less&scoped=true\"","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","//0\nexport {\n  stamp,\n  tomorrowStamp,\n  date,\n  timestampToDate,\n  timestampToTime,\n  timestampToFullTime,\n}\n\nconst stamp = Math.round(new Date() / 1000)\n\nconst now_date = new Date(new Date().getTime() + 24 * 60 * 60 * 1000)\nnow_date.setHours(0)\nnow_date.setMinutes(0)\nnow_date.setSeconds(0)\nnow_date.setMilliseconds(0)\n// var timestamp = now_date.getTime() //\nconst tomorrowStamp = Math.floor(now_date.getTime() / 1000)\n\nconst date =\n  new Date().getFullYear() +\n  '-' +\n  Number(new Date().getMonth() + 1) +\n  '-' +\n  new Date().getDate()\n\nfunction timestampToDate(stamp) {\n  const fullDate = new Date(parseInt(stamp) * 1000)\n    .toLocaleString()\n    .replace(/:\\d{1,2}$/, ' ')\n  const indexOfSpace = fullDate.indexOf(' ')\n  return fullDate.slice(0, indexOfSpace)\n}\nfunction timestampToTime(stamp) {\n  const fullDate = new Date(parseInt(stamp) * 1000)\n    .toLocaleString()\n    .replace(/:\\d{1,2}$/, ' ')\n  const indexOfSpace = fullDate.indexOf(' ')\n  return fullDate.slice(indexOfSpace)\n}\nfunction timestampToFullTime(stamp) {\n  const fullDate = new Date(parseInt(stamp) * 1000)\n    .toLocaleString()\n    .replace(/:\\d{1,2}$/, ' ')\n\n  return fullDate\n}\n"],"sourceRoot":""}