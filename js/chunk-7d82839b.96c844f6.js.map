{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/components/cinema_components/SeatingChart.vue?6b77","webpack:///./src/components/Icon.vue?d20b","webpack:///./node_modules/vant/es/notice-bar/NoticeBar.js","webpack:///./node_modules/vant/es/notice-bar/index.js","webpack:///./src/api/scheduleAPI.js","webpack:///./src/composables/initSchedule.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/utils/gestuter.js","webpack:///./src/components/Icon.vue","webpack:///./src/components/Icon.vue?6dbc","webpack:///./src/components/cinema_components/Seat.vue","webpack:///./src/components/cinema_components/Seat.vue?b590","webpack:///./src/components/cinema_components/SeatingChart.vue","webpack:///./src/components/cinema_components/SeatingChart.vue?cf85","webpack:///./src/views/Cinema/Schedule.vue","webpack:///./src/views/Cinema/Schedule.vue?bb25","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/Cinema/Schedule.vue?3f62","webpack:///./node_modules/hammerjs/hammer.js","webpack:///./src/utils/time.js","webpack:///./src/components/cinema_components/Seat.vue?78f0"],"names":["global","toIntegerOrInfinity","toString","requireObjectCoercible","RangeError","module","exports","count","str","this","result","n","Infinity","bem","create","text","String","mode","color","delay","speed","leftIcon","wrapable","Boolean","background","scrollable","type","default","name","props","emits","emit","slots","startTimer","wrapWidth","contentWidth","wrapRef","contentRef","state","show","offset","duration","renderLeftIcon","getRightIconName","onClickRightIcon","event","renderRightIcon","onTransitionEnd","renderMarquee","ellipsis","style","transform","transitionDuration","reset","ms","clearTimeout","setTimeout","value","wrapRefWidth","useRect","width","contentRefWidth","onMountedOrActivated","useEventListener","scheduleAPI","scheduleId","k","request","get","params","headers","seatingChartAPI","initSeatingChart","seatingCharts","data","seatingChart","initSchedule","schedules","schedule","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","hammerObj","ref","hammerIt","el","container","reqAnimationFrame","window","Hammer","prefixed","callback","lastcenter","initScale","mc","Manager","ticking","poscenter","point2D","lastTranslate","isEmpty","offsetWidth","offsetHeight","center","x","y","onPanStart","onPan","ev","className","deltaX","deltaY","requestElementUpdate","onPinchStart","onPinch","scale","onDoubleTap","nowScale","pointer","updateElementTransform","transition","tmp","join","add","Pan","threshold","pointers","Pinch","Tap","taps","on","iconName","iconClass","__exports__","info","seatInfo","checked","selectSeat","isBroken","isOccupied","scheduleHandleSelectSeat","seatsRef","containerRef","numbersOfRows","height","maxNumbersOfCells","rowStyle","cellStyle","indexBarStyle","cellSize","indexBarWidth","document","documentElement","clientWidth","dynamicIndexBar","indexCellStyle","VanDialog","Component","id","switcherStatus","movie","film","filmId","selectedSeats","amount","price","sale","toFixed","handleSelectSeat","filter","item","offerSeatId","confirmSchedule","store","userInfo","commit","movieName","poster","cinemaName","cinema","date","time","showAt","user","tel","hallName","hall","seats","router","goBack","go","$","uncurryThis","thisNumberValue","$repeat","fails","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","t","FORCED","target","proto","forced","fractionDigits","e","z","j","number","fractDigits","sign","exportName","undefined","assign","VENDOR_PREFIXES","TEST_ELEMENT","createElement","TYPE_FUNCTION","round","abs","now","Date","setTimeoutContext","fn","timeout","context","bindFn","invokeArrayArg","arg","each","obj","forEach","hasOwnProperty","deprecate","method","message","deprecationMessage","Error","stack","replace","console","warn","apply","arguments","Object","output","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","prototype","constructor","_super","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","find","indexOf","trim","split","inArray","findByKey","toArray","uniqueArray","key","sort","results","values","a","b","property","prefix","prop","camelProp","toUpperCase","_uniqueId","uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","MOBILE_REGEX","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","test","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_PEN","INPUT_TYPE_MOUSE","INPUT_TYPE_KINECT","COMPUTE_INTERVAL","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","self","options","inputTarget","domHandler","enable","init","createInputInstance","Type","inputClass","PointerEventInput","TouchInput","TouchMouseInput","MouseInput","inputHandler","eventType","input","pointersLen","changedPointersLen","changedPointers","isFirst","isFinal","session","computeInputData","recognize","prevInput","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","getScale","rotation","getRotation","maxPointers","computeIntervalInputData","srcEvent","offsetDelta","prevDelta","velocity","velocityX","velocityY","direction","last","lastInterval","v","clientX","clientY","p1","p2","sqrt","atan2","PI","start","end","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","2","3","4","5","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","DEDUP_DISTANCE","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","removeLastTouch","isSyntheticEvent","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","getTouchActionProps","TouchAction","set","cleanTouchActions","actions","hasPanX","hasPanY","touchMap","cssSupports","CSS","supports","compute","update","touchAction","recognizers","recognizer","getTouchAction","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","STATE_FAILED","Recognizer","defaults","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","preset","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","process","attrTest","optionPointers","isRecognized","isValid","directionTest","hasMoved","inOut","validPointers","validMovement","validTime","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","STOP","FORCED_STOP","handlers","oldCssProps","toggleCssProps","triggerDomEvent","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","stop","force","stopped","curRecognizer","existing","remove","events","off","Swipe","Rotate","Press","freeGlobal","now_date","getTime","setHours","setMinutes","setSeconds","setMilliseconds","tomorrowStamp","getFullYear","Number","getMonth","getDate","timestampToDate","stamp","fullDate","parseInt","toLocaleString","indexOfSpace","timestampToTime","timestampToFullTime"],"mappings":"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","file":"js/chunk-7d82839b.96c844f6.js","sourcesContent":["'use strict';\nvar global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar RangeError = global.RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SeatingChart.vue?vue&type=style&index=0&id=5e2e94ba&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Icon.vue?vue&type=style&index=0&id=433416bb&lang=less\"","import { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, defineComponent } from 'vue'; // Utils\n\nimport { isDef, createNamespace, makeNumericProp } from '../utils'; // Composables\n\nimport { raf, useRect, doubleRaf, useEventListener, onMountedOrActivated } from '@vant/use';\nimport { useExpose } from '../composables/use-expose';\nimport { onPopupReopen } from '../composables/on-popup-reopen'; // Components\n\nimport { Icon } from '../icon'; // Types\n\nvar [name, bem] = createNamespace('notice-bar');\nvar props = {\n  text: String,\n  mode: String,\n  color: String,\n  delay: makeNumericProp(1),\n  speed: makeNumericProp(60),\n  leftIcon: String,\n  wrapable: Boolean,\n  background: String,\n  scrollable: {\n    type: Boolean,\n    default: null\n  }\n};\nexport default defineComponent({\n  name,\n  props,\n  emits: ['close', 'replay'],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    var wrapWidth = 0;\n    var contentWidth = 0;\n    var startTimer;\n    var wrapRef = ref();\n    var contentRef = ref();\n    var state = reactive({\n      show: true,\n      offset: 0,\n      duration: 0\n    });\n\n    var renderLeftIcon = () => {\n      if (slots['left-icon']) {\n        return slots['left-icon']();\n      }\n\n      if (props.leftIcon) {\n        return _createVNode(Icon, {\n          \"class\": bem('left-icon'),\n          \"name\": props.leftIcon\n        }, null);\n      }\n    };\n\n    var getRightIconName = () => {\n      if (props.mode === 'closeable') {\n        return 'cross';\n      }\n\n      if (props.mode === 'link') {\n        return 'arrow';\n      }\n    };\n\n    var onClickRightIcon = event => {\n      if (props.mode === 'closeable') {\n        state.show = false;\n        emit('close', event);\n      }\n    };\n\n    var renderRightIcon = () => {\n      if (slots['right-icon']) {\n        return slots['right-icon']();\n      }\n\n      var name = getRightIconName();\n\n      if (name) {\n        return _createVNode(Icon, {\n          \"name\": name,\n          \"class\": bem('right-icon'),\n          \"onClick\": onClickRightIcon\n        }, null);\n      }\n    };\n\n    var onTransitionEnd = () => {\n      state.offset = wrapWidth;\n      state.duration = 0; // wait for Vue to render offset\n      // using nextTick won't work in iOS14\n\n      raf(() => {\n        // use double raf to ensure animation can start\n        doubleRaf(() => {\n          state.offset = -contentWidth;\n          state.duration = (contentWidth + wrapWidth) / +props.speed;\n          emit('replay');\n        });\n      });\n    };\n\n    var renderMarquee = () => {\n      var ellipsis = props.scrollable === false && !props.wrapable;\n      var style = {\n        transform: state.offset ? \"translateX(\" + state.offset + \"px)\" : '',\n        transitionDuration: state.duration + \"s\"\n      };\n      return _createVNode(\"div\", {\n        \"ref\": wrapRef,\n        \"role\": \"marquee\",\n        \"class\": bem('wrap')\n      }, [_createVNode(\"div\", {\n        \"ref\": contentRef,\n        \"style\": style,\n        \"class\": [bem('content'), {\n          'van-ellipsis': ellipsis\n        }],\n        \"onTransitionend\": onTransitionEnd\n      }, [slots.default ? slots.default() : props.text])]);\n    };\n\n    var reset = () => {\n      var {\n        delay,\n        speed,\n        scrollable\n      } = props;\n      var ms = isDef(delay) ? +delay * 1000 : 0;\n      wrapWidth = 0;\n      contentWidth = 0;\n      state.offset = 0;\n      state.duration = 0;\n      clearTimeout(startTimer);\n      startTimer = setTimeout(() => {\n        if (!wrapRef.value || !contentRef.value || scrollable === false) {\n          return;\n        }\n\n        var wrapRefWidth = useRect(wrapRef).width;\n        var contentRefWidth = useRect(contentRef).width;\n\n        if (scrollable || contentRefWidth > wrapRefWidth) {\n          doubleRaf(() => {\n            wrapWidth = wrapRefWidth;\n            contentWidth = contentRefWidth;\n            state.offset = -contentWidth;\n            state.duration = contentWidth / +speed;\n          });\n        }\n      }, ms);\n    };\n\n    onPopupReopen(reset);\n    onMountedOrActivated(reset); // fix cache issues with forwards and back history in safari\n    // see: https://guwii.com/cache-issues-with-forwards-and-back-history-in-safari/\n\n    useEventListener('pageshow', reset);\n    useExpose({\n      reset\n    });\n    watch(() => [props.text, props.scrollable], reset);\n    return () => {\n      var {\n        color,\n        wrapable,\n        background\n      } = props;\n      return _withDirectives(_createVNode(\"div\", {\n        \"role\": \"alert\",\n        \"class\": bem({\n          wrapable\n        }),\n        \"style\": {\n          color,\n          background\n        }\n      }, [renderLeftIcon(), renderMarquee(), renderRightIcon()]), [[_vShow, state.show]]);\n    };\n  }\n\n});","import { withInstall } from '../utils';\nimport _NoticeBar from './NoticeBar';\nexport var NoticeBar = withInstall(_NoticeBar);\nexport default NoticeBar;","import request from '@/api/request'\n\nexport { seatingChartAPI, scheduleAPI }\n\n// 影院\nconst scheduleAPI = function (scheduleId, k) {\n  return request.get('/gateway', {\n    params: {\n      scheduleId: scheduleId,\n      k: k,\n    },\n    headers: {\n      'X-Host': 'mall.film-ticket.schedule.info',\n    },\n  })\n}\n// 座位\nconst seatingChartAPI = function (scheduleId, k) {\n  return request.get('/gateway', {\n    params: {\n      scheduleId: scheduleId,\n      k: k,\n    },\n    headers: {\n      'X-Host': 'mall.film-ticket.seat.list',\n    },\n  })\n}\n","import { seatingChartAPI, scheduleAPI } from '@/api/scheduleAPI.js'\n\nexport { initSeatingChart, initSchedule }\n\nasync function initSeatingChart(seatingCharts, scheduleId, k) {\n  const data = await seatingChartAPI(scheduleId, k)\n  seatingCharts.value = data ? data.seatingChart : null\n}\n\nasync function initSchedule(schedules, scheduleId, k) {\n  const data = await scheduleAPI(scheduleId, k)\n  schedules.value = data ? data.schedule : null\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import Hammer from 'hammerjs'\nimport { ref } from 'vue'\nimport { isEmpty } from '@/utils/isEmpty.js'\n\nexport const hammerObj = ref([])\n\nexport function hammerIt(el, container) {\n  var reqAnimationFrame = (function () {\n    return (\n      window[Hammer.prefixed(window, 'requestAnimationFrame')] ||\n      function (callback) {\n        window.setTimeout(callback, 1000 / 60)\n      }\n    )\n  })()\n  hammerObj.value = [1, 0, 0, 1, 0, 0] // x缩放，无，无，y缩放，x平移，y平移\n\n  var initScale = 1 // 初始化scale\n  var mc = new Hammer.Manager(el)\n  var ticking = false\n  var poscenter = point2D(0, 0) // 缓存双指的中心坐标\n  var duration = '' // 设置过渡效果，用于双击缩放效果\n  var lastTranslate = point2D(0, 0) // 记录上次的偏移值\n  var lastcenter\n  if (!isEmpty(container)) {\n    lastcenter = point2D(container.offsetWidth / 2, container.offsetHeight / 2)\n  } else {\n    lastcenter = point2D(el.offsetWidth / 3, el.offsetHeight / 3)\n  }\n\n  var center = lastcenter\n  mc.add(new Hammer.Pan({ threshold: 0, pointers: 1 }))\n  mc.add(new Hammer.Pinch({ threshold: 0 }))\n  mc.add(new Hammer.Tap({ event: 'doubletap', taps: 2 }))\n  mc.on('panmove', onPan)\n  mc.on('panstart', onPanStart)\n  mc.on('pinchmove', onPinch)\n  mc.on('pinchstart', onPinchStart)\n  mc.on('doubletap', onDoubleTap)\n\n  function point2D(x, y) {\n    return { x: x, y: y }\n  }\n  function onPanStart() {\n    lastTranslate = point2D(hammerObj.value[4], hammerObj.value[5]) // 缓存上一次的偏移值\n  }\n  function onPan(ev) {\n    duration = ''\n    el.className = ''\n    hammerObj.value[4] = lastTranslate.x + ev.deltaX\n    hammerObj.value[5] = lastTranslate.y + ev.deltaY\n    requestElementUpdate('onpan')\n  }\n  function onPinchStart(ev) {\n    duration = ''\n    lastTranslate = point2D(hammerObj.value[4], hammerObj.value[5]) // 记录上一次的偏移值\n    initScale = hammerObj.value[0] || 1\n    poscenter = point2D(ev.center.x, ev.center.y)\n\n    lastcenter = point2D(center.x + lastTranslate.x, center.y + lastTranslate.y) // 重新计算放大后的中心坐标\n    poscenter = point2D(ev.center.x - lastcenter.x, ev.center.y - lastcenter.y)\n    requestElementUpdate('onpinchStart')\n  }\n  function onPinch(ev) {\n    // eslint-disable-next-line no-unused-vars\n    var nowScale =\n      (hammerObj.value[0] =\n      hammerObj.value[3] =\n        initScale * ev.scale)\n    // eslint-disable-next-line no-unused-vars\n    var composscal = 1 - ev.scale\n    // hammerObj.value[4] =\n    //   poscenter.x -\n    //   ((poscenter.x - lastcenter.x) * ev.scale + lastcenter.x) +\n    //   lastTranslate.x // 最后加上上一次的偏移值\n    // hammerObj.value[5] =\n    //   poscenter.y -\n    //   ((poscenter.y - lastcenter.y) * ev.scale + lastcenter.y) +\n    //   lastTranslate.y\n    hammerObj.value[4] = (1 - ev.scale) * poscenter.x + lastTranslate.x\n    hammerObj.value[5] = (1 - ev.scale) * poscenter.y + lastTranslate.y\n    requestElementUpdate('onpinch')\n  }\n\n  function onDoubleTap(ev) {\n    duration = '.3s ease all'\n    var nowScale = hammerObj.value[0]\n    if (nowScale != 1 || hammerObj.value[4] != 0) {\n      //scale不等于1，要重回1\n      hammerObj.value[0] = hammerObj.value[3] = 1\n      hammerObj.value[4] = hammerObj.value[5] = 0\n    } else {\n      var pointer = ev.center\n      var scale = 2\n      hammerObj.value[0] = hammerObj.value[3] = scale\n      //var last = point2D\n      //hammerObj.value[4] = pointer.x - ((pointer.x-lastcenter.x) * scale + lastcenter.x);\n      //hammerObj.value[5] = pointer.y - ((pointer.y-lastcenter.y) * scale + lastcenter.y);\n      hammerObj.value[4] = (1 - scale) * (pointer.x - center.x)\n      hammerObj.value[5] = (1 - scale) * (pointer.y - center.y)\n    }\n    requestElementUpdate('doubleTap')\n  }\n\n  function updateElementTransform() {\n    el.style.transition = duration\n    var tmp = hammerObj.value.join(',')\n\n    el.style.transform = 'matrix(' + tmp + ')'\n    ticking = false\n  }\n\n  function requestElementUpdate() {\n    // arguments && console.log(arguments[0])\n\n    if (!ticking) {\n      reqAnimationFrame(updateElementTransform)\n      ticking = true\n    }\n  }\n\n  requestElementUpdate()\n}\n","<template>\n  <svg :class=\"iconClass\" aria-hidden=\"true\" :style=\"{ color }\">\n    <use :xlink:href=\"iconName\"></use>\n  </svg>\n</template>\n \n<script setup>\nimport { computed } from '@vue/reactivity'\n\n// eslint-disable-next-line no-undef\nconst props = defineProps({\n  name: {\n    type: String,\n    required: true,\n  },\n  color: String,\n})\nconst iconName = computed(() => {\n  return `#icon-${props.name}`\n})\nconst iconClass = computed(() => {\n  return !props.name ? 'svg-icon' : `svg-icon icon-${props.name}`\n})\n</script>\n\n<style lang=\"less\">\n.svg-icon {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  vertical-align: top;\n  fill: currentColor;\n}\n  \n</style>","import script from \"./Icon.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Icon.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=433416bb&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"seat\" @click=\"selectSeat\">\n    <Icon :name=\"iconName\" />\n  </div>\n</template>\n\n<script setup>\nimport Icon from '@/components/Icon.vue'\nimport { computed, toRefs, ref } from '@vue/reactivity'\nimport { inject } from '@vue/runtime-core'\nimport { Toast } from 'vant'\n\n// eslint-disable-next-line no-undef\nconst props = defineProps({\n  info: Array,\n})\nconst { info } = toRefs(props)\n\n// 座位信息\nconst seatInfo = computed(() => {\n  return info.value[0]\n})\n// 座位状态\nconst checked = ref(false)\n\nconst selectSeat = () => {\n  if (!seatInfo.value.isBroken && !seatInfo.value.isOccupied) {\n    // 改变座位状态\n    checked.value = !checked.value\n    // 让schedule处理选座业务\n    scheduleHandleSelectSeat(seatInfo.value, checked.value)\n  } else {\n    Toast('不可选')\n  }\n}\n\n// 座位样式\nconst iconName = computed(() => {\n  return seatInfo.value.isBroken\n    ? 'broken'\n    : seatInfo.value.isOccupied\n    ? 'occupied'\n    : checked.value\n    ? 'checked'\n    : 'danrenzuoweikexuan'\n})\n\nconst scheduleHandleSelectSeat = inject('selectSeatEvent')\n</script>\n\n<style lang=\"less\" scoped>\n.seat {\n  width: 100%;\n  height: 100%;\n  // background-color: red;\n}\n.icon {\n  width: 100%;\n  height: 100%;\n  vertical-align: top;\n  fill: currentColor;\n  overflow: hidden;\n}\n.occupied{}\n</style>\n","import script from \"./Seat.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Seat.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Seat.vue?vue&type=style&index=0&id=68c3a87a&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68c3a87a\"]])\n\nexport default __exports__","<template>\n  <div class=\"container\" ref=\"containerRef\">\n    <!-- 索引条 -->\n    <div class=\"index-bar\" :style=\"[indexBarStyle, dynamicIndexBar]\">\n      <div\n        class=\"index-cell\"\n        v-for=\"rowCount in numbersOfRows\"\n        :key=\"rowCount\"\n        :style=\"indexCellStyle\"\n      >\n        <div class=\"index-number\">\n          {{ rowCount }}\n        </div>\n      </div>\n    </div>\n    <!-- 座位区域 -->\n    <div class=\"seats\" ref=\"seatsRef\">\n      <!-- 行 -->\n      <div\n        class=\"row\"\n        v-for=\"rowIndex in numbersOfRows\"\n        :key=\"rowIndex\"\n        :style=\"[rowStyle]\"\n      >\n        <!-- 格 -->\n        <div\n          class=\"cell\"\n          v-for=\"cellIndex in maxNumbersOfCells\"\n          :key=\"cellIndex\"\n          :style=\"[cellStyle]\"\n        >\n          <!-- 座位 -->\n          <Seat\n            v-if=\"\n              seatingChart.seats.some((item) => {\n                return (\n                  String(item.rowNum) === String(rowIndex) &&\n                  String(item.columnNum) === String(cellIndex)\n                )\n              })\n            \"\n            :info=\"\n              seatingChart.seats.filter((item) => {\n                return (\n                  String(item.rowNum) === String(rowIndex) &&\n                  String(item.columnNum) === String(cellIndex)\n                )\n              })\n            \"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, toRefs, watch } from 'vue'\nimport { hammerIt, hammerObj } from '@/utils/gestuter.js'\nimport Seat from '@/components/cinema_components/Seat.vue'\n\n// eslint-disable-next-line no-undef\nconst props = defineProps({\n  seatingChart: Object,\n})\n\nconst seatsRef = ref(null)\nconst containerRef = ref(null)\n// const indexBarRef = ref(null)\n\n// 横排的总数量（矩阵高度）\nconst { height: numbersOfRows, width: maxNumbersOfCells } = toRefs(\n  props.seatingChart\n)\n// const numbersOfRows = ref(props.seatingChart.height)\n// 所有横排中格子数量最多的单元格格数（矩阵宽度）\n// const maxNumbersOfCells = ref(props.seatingChart.width)\n\n// 横排样式\nconst rowStyle = ref(null)\n// 每个格子的样式\nconst cellStyle = ref(null)\n// 索引栏样式\nconst indexBarStyle = ref(null)\n// 单元格尺寸\nconst cellSize = ref(null)\n// 索引条宽度\nconst indexBarWidth = ref(20)\n\nwatch([seatsRef, containerRef], ([seatsRef, containerRef]) => {\n  cellSize.value =\n    document.documentElement.clientWidth / maxNumbersOfCells.value - 4\n  // 添加手势\n  hammerIt(seatsRef, containerRef)\n\n  rowStyle.value = {\n    width: cellSize.value * maxNumbersOfCells.value + 'pX',\n    height: cellSize.value + 4 + 'pX',\n  }\n  cellStyle.value = {\n    width: cellSize.value + 'pX',\n    height: cellSize.value + 'pX',\n  }\n  indexBarStyle.value = {\n    width: indexBarWidth.value + 'pX',\n    height: (cellSize.value + 4) * numbersOfRows.value + 'pX',\n  }\n})\n\nconst dynamicIndexBar = computed(() => {\n  // 缩放不变\n  // return `transform: translate(10pX, ${hammerObj.value[5]}pX) scaleY(${hammerObj.value[3]})`\n  // 高度不变\n  return `transform: translate(10pX, ${hammerObj.value[5]}pX) ;height: ${\n    (cellSize.value + 4) * numbersOfRows.value * hammerObj.value[3]\n  }pX`\n})\n\nconst indexCellStyle = computed(() => {\n  // 缩放不变\n  // return `transform: scaleY(${1 / hammerObj.value[3]})`\n  // 高度不变\n  return `height: ${20 * hammerObj.value[3]}pX`\n})\n</script>\n\n<style lang=\"less\" scoped>\n\n.container {\n  width: 100%;\n  height: 100%;\n  background-color: #f4f4f4;\n  z-index: 9;\n  overflow: hidden;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n}\n.index-bar {\n  position:absolute;\n  background-color: rgba(141, 141, 141, 0.493);\n  z-index: 99;\n  border-radius: 10pX;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n}\n\n.index-cell{\n  height: 20pX;\n  flex: 1;\n  width: 100%;\n  line-height: 20pX;\n  text-align: center;\n  font-size: 9px;\n  // background-color: red;\n  display: flex;\n  flex-flow: row nowrap;\n}\n.index-number{\n  flex: 1;\n  align-self: center;\n  // background-color: seagreen;\n}\n.seats { \n  position: absolute;          \n  display: block;       \n}\n.row {\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n.cell {\n  // float: left;\n  display: inline-block;\n  vertical-align: top;\n  margin: 2pX;\n  \n}\n</style>","import script from \"./SeatingChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeatingChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SeatingChart.vue?vue&type=style&index=0&id=5e2e94ba&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e2e94ba\"]])\n\nexport default __exports__","<template>\n  <div id=\"schedule\" v-if=\"schedules\">\n    <!-- 导航栏 -->\n    <div class=\"nav\">\n      <van-nav-bar :title=\"schedules.cinema.name\">\n        <template #left>\n          <van-icon name=\"arrow-left\" color=\"#323233\" @click=\"goBack\" />\n        </template>\n      </van-nav-bar>\n    </div>\n    <!-- 通知条 -->\n    <NoticeBar left-icon=\"volume-o\" speed=\"30\" :text=\"schedules.noticeMsg\" />\n    <!-- 座位表 -->\n    <div class=\"SeatingChart\" v-if=\"seatingChart\">\n      <SeatingChart :seatingChart=\"seatingChart\" />\n    </div>\n    <!-- 底部区域 -->\n    <div class=\"bottom\">\n      <div class=\"movie-hall-box\">\n        <div class=\"movie-info\">\n          <!-- 电影信息 -->\n          <div class=\"content\">\n            <div class=\"name\">{{ schedules.film.name }}</div>\n            <div class=\"detail\">\n              {{ timestampToFullTime(schedules.showAt) }}\n              |\n              {{ schedules.imagery }}\n            </div>\n          </div>\n          <!-- 场次开关 -->\n          <div class=\"switcher\" @click=\"switcherStatus = !switcherStatus\">\n            {{ switcherStatus ? '收起场次' : '显示场次' }}\n          </div>\n        </div>\n        <!-- 场次信息 -->\n        <div class=\"hall-list hall-order-list\" v-if=\"switcherStatus\">\n          <div class=\"hall-cell hall-order-cell\">\n            <div class=\"time\">11:12</div>\n            <div class=\"type\">国语2D</div>\n            <div class=\"price\">¥21</div>\n          </div>\n        </div>\n        <!-- 座位订单信息 -->\n        <div class=\"order-list hall-order-list\" v-if=\"selectedSeats.length > 0\">\n          <div\n            class=\"order-cell hall-order-cell\"\n            v-for=\"item in selectedSeats\"\n            :key=\"item.offerSeatId\"\n          >\n            <div class=\"seat-id\">{{ item.rowId }}排{{ item.columnId }}座</div>\n            <div class=\"seat-price\">\n              ¥{{ (schedules.price.sale / 100).toFixed(2) }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 确认按钮 -->\n      <div\n        class=\"confirm-button\"\n        :style=\"{ color: selectedSeats.length > 0 ? '#fff' : '#f4f4f4' }\"\n        @click=\"confirmSchedule\"\n      >\n        {{ selectedSeats.length > 0 ? '付款' : '请先选座' }}\n        {{ selectedSeats.length > 0 ? amount : '' }}\n      </div>\n    </div>\n    <VanDialog />\n  </div>\n</template>\n\n\n<script setup>\nimport { initSeatingChart, initSchedule } from '@/composables/initSchedule.js'\nimport { initSingleMovie } from '@/composables/initMovies.js'\nimport { computed, provide, ref, watch } from 'vue'\nimport { NoticeBar, Dialog, Toast } from 'vant'\nimport SeatingChart from '@/components/cinema_components/SeatingChart.vue'\nimport { timestampToFullTime } from '@/utils/time.js'\nimport { useRoute } from 'vue-router'\nimport router from '@/router'\nimport store from '@/store'\n\nconst VanDialog = Dialog.Component\nconst seatingChart = ref(null)\nconst schedules = ref(null)\nconst scheduleId = useRoute().params.id\nconst k = 9983952\n// 默认不显示影厅列表\nconst switcherStatus = ref(false)\nconst movie = ref()\n\n// 票务信息\ninitSchedule(schedules, scheduleId, k)\n// 座次信息\ninitSeatingChart(seatingChart, scheduleId, k)\nwatch(schedules, (schedules) => {\n  initSingleMovie(movie, schedules.film.filmId)\n})\n\n// 用户选中的座位数组\nconst selectedSeats = ref([])\n\n// 选中座位总金额\nconst amount = computed(() => {\n  return (\n    (selectedSeats.value.length * schedules.value.price.sale) /\n    100\n  ).toFixed(2)\n})\n// 处理选择座位业务\nconst handleSelectSeat = (seatInfo, checked) => {\n  if (checked) {\n    selectedSeats.value.push(seatInfo)\n  } else {\n    selectedSeats.value = selectedSeats.value.filter((item) => {\n      return item.offerSeatId !== seatInfo.offerSeatId\n    })\n  }\n}\nprovide('selectSeatEvent', handleSelectSeat)\n\nconst confirmSchedule = () => {\n  if (selectedSeats.value.length <= 0) {\n    Toast('请先选择座位')\n  } else {\n    if (store.state.userInfo) {\n      store.commit('saveOrderInfo', {\n        movieName: movie.value.name,\n        poster: movie.value.poster,\n        cinemaName: schedules.value.cinema.name,\n        date: timestampToFullTime(schedules.value.showAt),\n        user: { tel: '188 8888 8888' },\n        hallName: schedules.value.hall.name,\n        seats: selectedSeats.value,\n        amount: amount.value,\n      })\n    }\n    router.push('/order')\n  }\n}\n\nconst goBack = () => {\n  router.go(-1)\n}\n</script>\n\n<style lang=\"less\" scoped>\n#schedule{\n  overflow: hidden;\n  // box-shadow: #ebedf0 0 4px 12px;\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  background-color: #f4f4f4;\n}\n\n.SeatingChart {\n  width: 100vw;\n  height: 60vh;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n\n\n.bottom {\n  font-size: 12px;\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n}\n.movie-hall-box{\n  border-radius: 2px;\n  background-color: #fff;\n  width: 90vw;\n  overflow: hidden;\n  padding: 0 10pX;\n  margin-bottom: 10pX;\n  .movie-info {\n    height: 40pX;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    padding: 10pX;\n    background-color: #fff;\n    .content {\n      flex: 1;\n      .name {\n        font-size: 16pX;\n      }\n      .detail {\n        font-size: 12pX;\n        color: gainsboro;\n      }\n    }\n    .switcher {\n      width: 70pX;\n      background-color: rgba(184, 184, 184, 0.438);\n      text-align: center;\n      border-radius: 2pX;\n    }\n  }\n}\n.hall-order-list {\n  white-space: nowrap;\n  margin-bottom: 10pX;\n  overflow: scroll;\n  .hall-order-cell {\n    display: inline-block;\n    width: 60pX;\n    height: 60pX;\n    white-space: nowrap;\n    height: 60pX;\n    width:60pX;\n    margin:7pX 0 7pX 7pX;\n    background-color: #f8f8f8;\n    text-align: center;\n    padding-top: 10pX;\n  }\n}\n.hall-cell {\n  .time {\n    font-size: 12pX;\n    color: #191a1b;\n  }\n  .type {\n    font-size: 13pX;\n    color: #c5c8cc;\n  }\n  .price {\n    font-size: 12pX;\n    color: #7a7d82;\n  }\n}\n.order-cell {\n  .seat-id{\n    height: 15pX;\n    line-height: 15pX;\n    font-size: 12pX;\n    margin: 5pX 0;\n  }\n  .seat-price{\n    font-size: 14pX;\n    color: #f35e25;\n  }\n}\n\n.confirm-button{\n  height: 46pX;\n  width: 100vw;\n  background-color: var(--themeColor);\n  text-align: center;\n  line-height: 46pX;\n  font-size: 18pX;\n  color: #fff;\n  // position: absolute;\n  // bottom: 0;\n}\n</style>","import script from \"./Schedule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Schedule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Schedule.vue?vue&type=style&index=0&id=7270db22&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7270db22\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Schedule.vue?vue&type=style&index=0&id=7270db22&lang=less&scoped=true\"","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","//当前时间戳，明天0点时间戳，当前日期，时间戳转日期，事件戳转时间，时间戳转完整时间\nexport {\n  stamp,\n  tomorrowStamp,\n  date,\n  timestampToDate,\n  timestampToTime,\n  timestampToFullTime,\n}\n\nconst stamp = Math.round(new Date() / 1000)\n\nconst now_date = new Date(new Date().getTime() + 24 * 60 * 60 * 1000)\nnow_date.setHours(0)\nnow_date.setMinutes(0)\nnow_date.setSeconds(0)\nnow_date.setMilliseconds(0)\n// var timestamp = now_date.getTime() //毫秒时间戳\nconst tomorrowStamp = Math.floor(now_date.getTime() / 1000)\n\nconst date =\n  new Date().getFullYear() +\n  '-' +\n  Number(new Date().getMonth() + 1) +\n  '-' +\n  new Date().getDate()\n\nfunction timestampToDate(stamp) {\n  const fullDate = new Date(parseInt(stamp) * 1000)\n    .toLocaleString()\n    .replace(/:\\d{1,2}$/, ' ')\n  const indexOfSpace = fullDate.indexOf(' ')\n  return fullDate.slice(0, indexOfSpace)\n}\nfunction timestampToTime(stamp) {\n  const fullDate = new Date(parseInt(stamp) * 1000)\n    .toLocaleString()\n    .replace(/:\\d{1,2}$/, ' ')\n  const indexOfSpace = fullDate.indexOf(' ')\n  return fullDate.slice(indexOfSpace)\n}\nfunction timestampToFullTime(stamp) {\n  const fullDate = new Date(parseInt(stamp) * 1000)\n    .toLocaleString()\n    .replace(/:\\d{1,2}$/, ' ')\n\n  return fullDate\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Seat.vue?vue&type=style&index=0&id=68c3a87a&lang=less&scoped=true\""],"sourceRoot":""}