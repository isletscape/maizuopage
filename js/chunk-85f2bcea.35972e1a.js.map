{"version":3,"sources":["webpack:///./src/views/Movie/Tickets.vue","webpack:///./src/views/Movie/Tickets.vue?f2e5","webpack:///./src/views/Movie/Tickets.vue?174f"],"names":["cityId","state","currentCity","allCinemaList","regionCinemaList","regionList","ticketFlag","k","currentregion","initCinemas","handleSelectRegion","regionName","value","filter","item","districtName","closePopup","selectCinema","cinemaId","router","push","popupType","show","popup","type","goback","go","__exports__"],"mappings":"mYAiEA,IAAQA,EAAW,iBAAWC,MAAMC,YAA5BF,OACFG,EAAgB,eAAI,IACpBC,EAAmB,eAAI,IACvBC,EAAa,eAAI,IACjBC,EAAa,EACbC,EAAI,QACJC,EAAgB,eAAI,MAE1B,OAAAC,EAAA,MACEN,EACAC,EACAC,EACAL,EACAM,EACAC,GAIF,IAAMG,EAAqB,SAACC,GAC1BH,EAAcI,MAAQD,EACtBP,EAAiBQ,MAAQT,EAAcS,MAAMC,QAAO,SAACC,GACnD,OAAOA,EAAKC,eAAiBJ,KAE/BK,KAEIC,EAAe,SAACC,GACpBC,EAAA,KAAOC,KAAP,kBAAuBF,KAInBG,EAAY,eAAI,GAChBC,EAAO,gBAAI,GACXC,EAAQ,SAACC,GACbF,EAAKV,OAAQ,EACbS,EAAUT,MAAQY,GAEdR,EAAa,WACjBM,EAAKV,OAAQ,GAGTa,EAAS,WACbN,EAAA,KAAOO,IAAI,I,yiDCpGb,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,kCCRf","file":"js/chunk-85f2bcea.35972e1a.js","sourcesContent":["<template>\n  <div id=\"tickets\" v-if=\"allCinemaList\">\n    <!-- title -->\n    <van-nav-bar\n      title=\"影院列表\"\n      fixed\n      placeholder\n      left-arrow\n      @click-left=\"goback\"\n    >\n      <template #right></template>\n    </van-nav-bar>\n    <Sticky :offset-top=\"46\">\n      <!-- 筛选器 -->\n      <div class=\"cinema-filter\">\n        <div class=\"cinema-filter-child\" @click=\"popup(0)\">\n          {{ currentregion }}\n          <van-icon name=\"arrow-down\" />\n        </div>\n        <div class=\"cinema-filter-child\" @click=\"popup(1)\">\n          去过\n          <van-icon name=\"arrow-down\" />\n        </div>\n      </div>\n    </Sticky>\n    <!-- 列表 -->\n    <div class=\"cinema-list\">\n      <van-list finished-text=\"没有更多了\">\n        <CinemaCell\n          v-for=\"item in regionCinemaList\"\n          :key=\"item.districtId\"\n          :cinema=\"item\"\n          @click=\"selectCinema(item.cinemaId)\"\n        />\n      </van-list>\n    </div>\n  </div>\n  <!-- 模态框 -->\n  <van-popup\n    v-model:show=\"show\"\n    position=\"top\"\n    close-on-click-overlay\n    @click-overlay=\"closePopup\"\n  >\n    <template #default>\n      <Popup\n        :region=\"regionList\"\n        :type=\"popupType\"\n        :selectRegion=\"handleSelectRegion\"\n      />\n    </template>\n  </van-popup>\n</template>\n\n<script setup>\nimport CinemaCell from '@/components/cinema_components/CinemaCell.vue'\nimport Popup from '@/components/cinema_components/Popup.vue'\nimport { ref } from '@vue/reactivity'\nimport { Sticky } from 'vant'\nimport { initCinemasList } from '@/composables/initCinemas.js'\nimport { useStore } from 'vuex'\nimport router from '@/router'\n\n// const route = useRoute()\n// const { filmId } = route.params\nconst { cityId } = useStore().state.currentCity\nconst allCinemaList = ref([])\nconst regionCinemaList = ref([])\nconst regionList = ref([])\nconst ticketFlag = 1\nconst k = 6748065\nconst currentregion = ref('全部')\n\ninitCinemasList(\n  allCinemaList,\n  regionCinemaList,\n  regionList,\n  cityId,\n  ticketFlag,\n  k\n)\n\n//选中地区的回调\nconst handleSelectRegion = (regionName) => {\n  currentregion.value = regionName\n  regionCinemaList.value = allCinemaList.value.filter((item) => {\n    return item.districtName === regionName\n  })\n  closePopup()\n}\nconst selectCinema = (cinemaId) => {\n  router.push(`/cinema/${cinemaId}`)\n}\n\n//模态窗口\nconst popupType = ref(0)\nconst show = ref(false)\nconst popup = (type) => {\n  show.value = true\n  popupType.value = type\n}\nconst closePopup = () => {\n  show.value = false\n}\n\nconst goback = () => {\n  router.go(-1)\n}\n</script>\n\n<style lang=\"less\" scoped>\n@cinema-filter-height:44pX;\n@placerholder-height :@cinema-filter-height + 46px;\n.bordered {\n  border-top: 1px solid #f8f8f8;\n  border-bottom: 1px solid #f8f8f8;\n}\n.cinema-filter {\n  display: flex;\n  width: 100vw;\n  height: @cinema-filter-height;\n  .bordered();\n  background-color: #fff;\n  .cinema-filter-child {\n    flex: 1;\n    text-align: center;\n    line-height: @cinema-filter-height;\n    font-size: 14pX;\n  }\n} \n\n.cinema-list{\n  position: sticky;\n  width: 100vw;\n}\n</style>\n","import script from \"./Tickets.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Tickets.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Tickets.vue?vue&type=style&index=0&id=2a932d12&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/s/Desktop/maizuo/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2a932d12\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tickets.vue?vue&type=style&index=0&id=2a932d12&lang=less&scoped=true\""],"sourceRoot":""}